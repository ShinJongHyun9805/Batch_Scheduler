# Batch_Scheduler
Batch Scheduler+spring boot

### 스케줄링 & 배치 스케줄링

**스케줄링(Scheduling):**

일정한 시간 간격으로 반복적인 작업을 수행하는 도구를 의미.
    

**배치 스케줄링(Batch Scheduling):** 

대량의 데이터를 처리하는 작업을 자동화. 대량의 데이터를 정해진 일정 또는 특정 이벤트 발생시간에 자동화 처리를 하기 위한 것.
    

**Quartz:**

Java 기반의 오픈 소스 작업 ‘스케줄링 라이브러리’  → 특정시간에 작업을 실행하거나 특정 간격으로 작업을 수행 할 수 있음.
백그라운드 작업을 수행하는 서비스, 이메일 발송 스케줄링, 데이터 베이스 백업 등에 활용

**Quartz 기능**

| 기능               | 설명 |
|-------------|----------|
| 작업 스케줄링       | 작업 예약 및 주기 설정 기능을 제공  |
| 작업 실행 및 관리   | 작업 실행, 중단, 재개, 삭제 기능을 제공  |
| 작업 중단 및 재개   | 작업 중단, 재개 기능을 제공 |
| 여러 작업 동시 실행 | 동시에 여러 작업 실행 기능을 제공 |
| 작업 실행 결과 처리 | 작업 실행 결과 처리 기능을 제공 |

---

**Quartz 클래스 및 인터페이스**

| 용어              | 설명 |
|-------------|----------|
| Job               | 실행할 작업에 대한 정보를 포함하는 클래스 |
| JobDetail         | Job 클래스의 인스턴스와 Job 실행에 필요한 추가 정보를 포함하는 클래스 |
| Trigger           | Job 실행을 스케줄링하기 위한 클래스 |
| SimpleTrigger     | 지정된 시간 간격으로 Job을 실행하기 위한 Trigger |
| CronTrigger       | Cron 표현식으로 Job을 스케줄링하기 위한 Trigger |
| Scheduler         | Job 실행과 Trigger 스케줄링을 관리하는 인터페이스 |
| SchedulerFactory  | Scheduler 인스턴스를 생성하고 구성하기 위한 인터페이스 |
1. **Job :** Quartz에서 실행할 작업을 정의하는 인터페이스
2. **Trigger** : Job을 실행시키는 조건을 정의
    1. SimpleTrigger : 특정 시간에 한 번 실행 OR 주기적으로 실행
    2. CronTrigger : Cron 표현식을 사용하여 지정된 시간에 작업을 예약
    3. CalendarIntervalTrigger
    4. DailyTimeIntervalTrigger
3. **Scheduler** : Job과 Trigger를 연결하고 Job을 실행 시키는 역할

**Quartz의 실행주기**

| Step | 분류 | Description |
|------|----------------|-------------|
| 1    | 스케줄러 초기화  | Quartz 스케줄러가 시작되면 먼저 스케줄러를 초기화합니다. 이 초기화 과정은 스케줄러의 설정을 로드하고 Java 응용 프로그램 컨텍스트와 연결합니다. |
| 2    | 작업 스케줄링 | Quartz 스케줄러가 작업 스케줄링을 수행합니다. 이 과정에서 사용자가 등록한 작업의 실행 시간이 계산되어 스케줄링 테이블에 등록됩니다. |
| 3    | 작업 실행        | 예약된 작업이 실행됩니다. Quartz 스케줄러는 스케줄된 작업을 실행하기 위해 스레드 풀을 사용합니다. |
| 4    | 작업 완료       | 작업이 완료되면 Quartz 스케줄러는 작업이 완료되었다는 신호를 받습니다. 이 신호를 받으면 작업이 스케줄링 테이블에서 제거됩니다. |
| 5    | 스케줄러 종료   | Quartz 스케줄러는 애플리케이션 종료 시 스케줄러를 종료합니다. 이 과정은 모든 예약된 작업을 제거하고 스레드 풀을 종료합니다. |
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

**Quartz Table**

| 이름 | 설명 |
| --- | --- |
| QRTZ_TRIGGERS | 이 테이블은 트리거 정보를 저장합니다. 스케줄러에 등록된 모든 트리거에 대한 정보가 여기에 저장되며, 실행 예약, 트리거 상태 등을 포함합니다. |
| QRTZ_SIMPLE_TRIGGERS | 간단한 반복 트리거 정보를 저장하는 테이블입니다. 주기적으로 실행되는 작업에 대한 정보를 보관합니다. |
| QRTZ_CRON_TRIGGERS | 크론 표현식을 사용하는 트리거 정보를 저장하는 테이블입니다. 특정 일정에 따라 반복적으로 실행되는 작업에 대한 정보를 보관합니다. |
| QRTZ_SIMPROP_TRIGGERS | 각종 속성을 포함하는 트리거 정보를 저장하는 테이블입니다. 문자열, 정수, 실수 등 다양한 속성을 저장할 수 있습니다. |
| QRTZ_BLOB_TRIGGERS | BLOB 데이터를 가진 트리거 정보를 저장하는 테이블입니다. 특별한 데이터 유형을 가진 작업에 대한 정보를 저장합니다. |
| QRTZ_CALENDARS | 스케줄링에 사용되는 캘린더 정보를 저장하는 테이블입니다. 스케줄링 시간 계산에 사용되는 휴일, 특별 날짜 등을 저장합니다. |
| QRTZ_PAUSED_TRIGGER_GRPS | 일시적으로 중지된 트리거 그룹 정보를 저장하는 테이블입니다. 일부 트리거 그룹이 일시적으로 중지되었을 때 이 정보를 보관합니다. |
| QRTZ_FIRED_TRIGGERS | 실행된 트리거 정보를 저장하는 테이블입니다. 트리거가 실행되었을 때 관련된 정보와 실행 상태를 보관합니다. |
| QRTZ_SCHEDULER_STATE | 스케줄러의 상태 정보를 저장하는 테이블입니다. 스케줄러의 인스턴스 이름, 마지막 체크인 시간 등을 포함합니다. |
| QRTZ_LOCKS | 스케줄러 내에서 사용되는 락 정보를 저장하는 테이블입니다. 동시에 실행 중인 작업 간의 충돌을 방지하기 위해 사용됩니다. |
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


인용 : https://adjh54.tistory.com/170#1)%20%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81(Scheduling)%20%26%20%EB%B0%B0%EC%B9%98%20%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81(Batch%20Scheduling)-1
